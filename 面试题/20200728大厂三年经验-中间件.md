# 2020 马士兵群友电面-大厂3年经验-中间件开发

1.hashmap扩容因子可不可以大于1？扩容过程？为什么是2倍？concurrenthashmap锁用的什么锁？实现原理是什么？



2.synchronized等待队列是怎么实现的？sync在一个for循环中被其它线程打断会出现什么情况？sync实现的底层原理？reentrantlock可重入是怎么实现的？公平锁是怎么实现的？线程池的运行状态？shutdown和shutdownnow的区别？一个任务丢到线程池的执行过程是怎么样的？jvm线程和操作系统线程是什么关系？



3.JVM有哪些垃圾回收算法？标记-整理算法的实现过程？256G的内存，JVM是怎么实现快速标记的？G1是怎么实现快速标记的？三色标记算法的底层原理？类加载的过程？双亲委派机制如何被打破的，能否举个场景？



4.springboot自动装配的过程？BeanDefinition的实现原理？AutoConfiguration的原理？ConditionalOnBean的实现原理，代码会不会冒红？排除掉内嵌的tomtcat，springboot是怎么正常跑起来的？jar包可以直接运行的原理？springboot yml文件是怎么做到自动提示的？



5.ping操作是ping的某个端口么？http协议三次握手和四次挥手的过程？TCP传输过程中服务断开了，是能够立即发现的么？get/post请求哪个是幂等的？

**答：**

ping是ICMP协议，并不是bai通常所说的 TCP/UDP 端口du～
ICMP不象TCP或UDP有端口，但它确实含zhi有两个域：类型(type)和代码dao(code)。而且这些域的作用和端口也完全不同
ping没有指定端口这个选项，它是网络层的，端口是传输层的概念。
Ping程序使用的是ICMP协议，ICMP不像http，FTP应用层有传输层的端口号，（它们使用TCP的端口号80和20/21）

采用TCP连接的C/S模式软件，连接的双方在连接空闲状态时，如果任意一方意外崩溃、当机、网线断开或路由器故障，另一方无法得知TCP连接已经失效，除非继续在此连接上发送数据导致错误返回。很多时候，这不是我们需要的。我们希望服务器端和客户端都能及时有效地检测到连接失效，然后优雅地完成一些清理工作并把错误报告给用户。
   如何及时有效地检测到一方的非正常断开，一直有两种技术可以运用。一种是由TCP协议层实现的Keepalive，另一种是由应用层自己实现的心跳包。



6.InnoDB引擎是怎么实现的？undolog和redolog分别是干嘛用的？为什么要使用B+树而不是红黑树？

7.k8s有哪些核心的组件？k8s启动一个pod是怎么调度的？